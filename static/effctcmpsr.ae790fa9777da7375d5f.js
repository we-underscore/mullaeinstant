!function(e){function t(t){for(var s,a,o=t[0],f=t[1],u=t[2],h=0,d=[];h<o.length;h++)a=o[h],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&d.push(n[a][0]),n[a]=0;for(s in f)Object.prototype.hasOwnProperty.call(f,s)&&(e[s]=f[s]);for(c&&c(t);d.length;)d.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],s=!0,o=1;o<r.length;o++){var f=r[o];0!==n[f]&&(s=!1)}s&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var s={},n={6:0,3:0,10:0,11:0,13:0},i=[];function a(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=s,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(r,s,function(t){return e[t]}.bind(null,s));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window.webpackJsonp=window.webpackJsonp||[],f=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=f;i.push([64,0]),r()}({21:function(e,t,r){"use strict";r.r(t),r.d(t,"ClearMaskPass",function(){return i}),r.d(t,"MaskPass",function(){return n});var s=r(4),n=function(e,t){s.Pass.call(this),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1};n.prototype=Object.assign(Object.create(s.Pass.prototype),{constructor:n,render:function(e,t,r,s,n){var i,a,o=e.context,f=e.state;f.buffers.color.setMask(!1),f.buffers.depth.setMask(!1),f.buffers.color.setLocked(!0),f.buffers.depth.setLocked(!0),this.inverse?(i=0,a=1):(i=1,a=0),f.buffers.stencil.setTest(!0),f.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),f.buffers.stencil.setFunc(o.ALWAYS,i,4294967295),f.buffers.stencil.setClear(a),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),f.buffers.color.setLocked(!1),f.buffers.depth.setLocked(!1),f.buffers.stencil.setFunc(o.EQUAL,1,4294967295),f.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP)}});var i=function(){s.Pass.call(this),this.needsSwap=!1};i.prototype=Object.create(s.Pass.prototype),Object.assign(i.prototype,{render:function(e,t,r,s,n){e.state.buffers.stencil.setTest(!1)}})},30:function(e,t,r){"use strict";r.r(t),r.d(t,"ShaderPass",function(){return i});var s=r(3),n=r(4),i=function(e,t){n.Pass.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof s.m?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=s.o.clone(e.uniforms),this.material=new s.m({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.camera=new s.h(-1,1,1,-1,0,1),this.scene=new s.l,this.quad=new s.f(new s.i(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)};i.prototype=Object.assign(Object.create(n.Pass.prototype),{constructor:i,render:function(e,t,r,s,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.quad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),e.render(this.scene,this.camera)):(e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera))}})},31:function(e,t,r){"use strict";r.r(t),r.d(t,"CopyShader",function(){return s});var s={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")}},4:function(e,t,r){"use strict";r.r(t),r.d(t,"Pass",function(){return s});var s=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1};Object.assign(s.prototype,{setSize:function(e,t){},render:function(e,t,r,s,n){}})},64:function(e,t,r){"use strict";r.r(t),r.d(t,"EffectComposer",function(){return o});var s=r(3),n=r(21),i=r(30),a=r(31),o=function(e,t){if(this.renderer=e,void 0===t){var r={minFilter:s.d,magFilter:s.d,format:s.j,stencilBuffer:!1},n=e.getDrawingBufferSize(new s.p);(t=new s.q(n.width,n.height,r)).texture.name="EffectComposer.rt1"}this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],a.CopyShader,i.ShaderPass,this.copyPass=new i.ShaderPass(a.CopyShader),this._previousFrameTime=Date.now()};Object.assign(o.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e);var t=this.renderer.getDrawingBufferSize(new s.p);e.setSize(t.width,t.height)},insertPass:function(e,t){this.passes.splice(t,0,e)},render:function(e){void 0===e&&(e=.001*(Date.now()-this._previousFrameTime)),this._previousFrameTime=Date.now();var t,r,s=this.renderer.getRenderTarget(),i=!1,a=this.passes.length;for(r=0;r<a;r++)if(!1!==(t=this.passes[r]).enabled){if(t.render(this.renderer,this.writeBuffer,this.readBuffer,e,i),t.needsSwap){if(i){var o=this.renderer.context;o.stencilFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),o.stencilFunc(o.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==n.MaskPass&&(t instanceof n.MaskPass?i=!0:t instanceof n.ClearMaskPass&&(i=!1))}this.renderer.setRenderTarget(s)},reset:function(e){if(void 0===e){var t=this.renderer.getDrawingBufferSize(new s.p);(e=this.renderTarget1.clone()).setSize(t.width,t.height)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this.renderTarget1.setSize(e,t),this.renderTarget2.setSize(e,t);for(var r=0;r<this.passes.length;r++)this.passes[r].setSize(e,t)}})}});
//# sourceMappingURL=effctcmpsr.ae790fa9777da7375d5f.js.map